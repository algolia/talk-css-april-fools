<!DOCTYPE html><html lang="en"><head><title>How We Built A Search Engine In Pure CSS</title><meta name="twitter:site" content="How We Built A Search Engine In Pure CSS"><meta property="og:title" content="How We Built A Search Engine In Pure CSS"><meta property="og:site_name" content="How We Built A Search Engine In Pure CSS"><meta name="description" content="How We Built A Search Engine In Pure CSS"><meta name="twitter:description" content="How We Built A Search Engine In Pure CSS"><meta property="og:description" content="How We Built A Search Engine In Pure CSS"><meta name="author" content="Tim Carry"><meta name="twitter:creator" content="pixelastic"><meta property="og:url" content="http://talks.pixelastic.com/slides/algolia-css-search-paris-css/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="http://talks.pixelastic.com/slides/algolia-css-search-paris-css//img/opengraph.png"><meta property="og:image" content="http://talks.pixelastic.com/slides/algolia-css-search-paris-css//img/opengraph.png"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="./main.css"><link rel="shortcut icon" href="./favicon.ico"></head><body><div class="reveal"><div class="slides bg-white lh-copy bunting f3 fw3"><!-- Title--><section class="slide--horizontal slide--theme1"><div class="bg-gradient-april-fools white h-100 flcnw flc"><div class="f-subheadline lh-title mh6 ph6">How We Built A Search Engine In Pure CSS</div></div></section><section class="slide--horizontal"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Tim Carry</div><div class="fla flcnw flccv"><div class="fln flrw mh5"><div class="fln w-third flc"><img class="h5 br3" src="./img/avatar.jpg"></div><div class="fln w-two-thirds flc f1 b">@pixelastic</div><div class="fln w-third flrch"><div class="bg-black-80 br3 pa3 w5 f0 ma3 flc"><img src="./img/algolia/algolia-dark.svg"></div></div><div class="fln w-third flrch"><div class="bg-black-80 br3 pa3 w5 f0 ma3 flc"><img src="./img/humantalks.png"></div></div><div class="fln w-third flrch"><div class="bg-black-80 br3 pa3 w5 f0 ma3 flc"><img src="./img/techlunch.png"></div></div></div></div></div></section><section class="slide--horizontal"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Algolia: Search as a Service</div><div class="fla flcnw h-100"><div class="fln h-80 pv2"><img class="h-100 shadow-4" src="./img/algolia/demo-yarn.gif"></div><div class="fln h-20 flrnw flc"><div class="w-60 flrnw flspbh h3"><img class="h-100 br-100 shadow-3" src="./img/algolia/languages/php.svg"><img class="h-100 br-100 shadow-3" src="./img/algolia/languages/ruby.svg"><img class="h-100 br-100 shadow-3" src="./img/algolia/languages/javascript.svg"><img class="h-100 br-100 shadow-3" src="./img/algolia/languages/python.svg"><img class="h-100 br-100 shadow-3" src="./img/algolia/languages/ios.svg"><img class="h-100 br-100 shadow-3" src="./img/algolia/languages/android.svg"><img class="h-100 br-100 shadow-3" src="./img/algolia/languages/csharp.svg"><img class="h-100 br-100 shadow-3" src="./img/algolia/languages/java.svg"><img class="h-100 br-100 shadow-3" src="./img/algolia/languages/go.svg"><img class="h-100 br-100 shadow-3" src="./img/algolia/languages/scala.svg"></div></div><!-- |Rapide présentation Algolia--><!-- |SaaS Search--><!-- |API client dans plein de langage--><!-- |Speed, Relevance, UX--></div></div></section><section class="slide--horizontal" data-transition="fade-in"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">CSS API Client</div><div class="fla flrnw"><div class="fln flc w-50 pa4"><div class="w-50 f0"><img src="./img/april-fools.png"></div></div><div class="fln flcnw w-50"><div class="fla flrnw"><img class="fln w5 mv3" src="./img/offline.svg"><div class="fla flrcv">Works offline!</div></div><div class="fla flrnw"><img class="fln w5 mv3" src="./img/nojs.svg"><div class="fla flrcv">No JavaScript Needed!</div></div><div class="fla flrnw"><img class="fln w5 mv3" src="./img/flexbox.svg"><div class="fla flrcv">Flexbox!</div></div></div></div></div></section><section class="slide--horizontal" data-transition="fade-in"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">CSS API Client</div><div class="fla flrnw"><div class="fln flc w-50 pa4"><div class="fln flcnw flc"><div class="w-50 f0"><img src="./img/april-fools-revealed.png"></div><a class="link f2" href="https://community.algolia.com/algoliasearch-client-css/demo/" target="_blank">www.algolia.com/css</a></div><!-- .h-60.f0--></div><div class="fln flcnw w-50 relative"><img class="absolute w5 bottom-1 right-1" src="./img/troll.png"><div class="fla flrnw"><img class="fln w5 mv3" src="./img/offline.svg"><div class="fla flrcv">Works offline!</div></div><div class="fla flrnw"><img class="fln w5 mv3" src="./img/nojs.svg"><div class="fla flrcv">No JavaScript Needed!</div></div><div class="fla flrnw"><img class="fln w5 mv3" src="./img/flexbox.svg"><div class="fla flrcv">Flexbox!</div></div></div></div></div></section><section class="slide--horizontal"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Demo time</div><div class="fla flcnw"><div class="fla flrnw"><div class="fla flcnw"><div class="fla flc"><div class="fake-browser shadow-3 center w-70"><img class="w-100" src="./img/screencast.gif"></div></div></div><div class="fln flcnw w-40 flccv"><div class="fln flrnw mb2"><img class="fln w4" src="./img/algolia/pillar-relevance.svg"><div class="fla flrcv">Relevance</div></div><div class="fln flrnw mb2"><img class="fln w4" src="./img/algolia/pillar-speed.svg"><div class="fla flrcv">Speed</div></div><div class="fln flrnw mb2"><img class="fln w4" src="./img/algolia/feature-highlighting.svg"><div class="fla flrcv">Highlighting</div></div><div class="fln flrnw mb2"><img class="fln w4" src="./img/algolia/feature-typo-tolerance.svg"><div class="fla flrcv">Typo-tolerance</div></div><div class="fln flrnw mb2"><img class="fln w4" src="./img/algolia/feature-synonyms.svg"><div class="fla flrcv">Synonyms</div></div><div class="fln flrnw"><img class="fln w4" src="./img/algolia/feature-faceting.svg"><div class="fla flrcv">Facetting</div></div></div></div></div></div></section><section class="slide--horizontal slide--theme1"><div class="bg-gradient-april-fools white h-100 flcnw flc"><div class="f-subheadline lh-title mh6 ph6">CSS? Really?</div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">CSS is awesome</div><div class="fla flrnw flc f2"><ul class="list tl"><li><span class="b dark-red">No</span> vars</li><li><span class="b dark-red">No</span> conditions</li><li><span class="b dark-red">No</span> loops</li><li><span class="b dark-red">No</span> functions</li><li><span class="b dark-red">No</span> regular expressions</li></ul></div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Selectors</div><div class="fla flcnw flc f2"><ul class="list tl"><li class="bullet-algolia-blue"><div class="code">tag</div><div class="di"> , </div><div class="code">.class</div><div class="di"> or  </div><div class="code">#id</div></li><li class="bullet-royal-blue"><div class="code">[attribute=foo]</div></li><li class="bullet-shamrock"><div class="code">hierarchical > tree</div></li><li class="bullet-koromiko"><div class="code">siblings ~ elements</div></li></ul></div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Trick #1: Attribute selectors</div><div class="fla flcnw"><div class="fla flrnw"><div class="fln w-50 flc"><div class="fln"><div class="f3">HTML</div><pre class="bg-near-black pa4 lh-copy tl"><code class="language-html">&lt;div&gt;1&lt;/div&gt;
&lt;div foo="bar"&gt;2&lt;/div&gt;
&lt;div foo="baz"&gt;3&lt;/div&gt;</code></pre></div></div><div class="fln w-50 flc"><div class="fln"><div class="f3">CSS</div><pre class="bg-near-black pa4 lh-copy tl"><code class="language-scss">div[foo="bar"] {
  background: green;
}</code></pre></div></div></div><div class="fla flc"><div class="fln w-50 flrnw flspah"><div class="db ba w-25 h3 flc">1</div><div class="db ba w-25 h3 flc bg-green">2</div><div class="db ba w-25 h3 flc">3</div></div></div></div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Trick #2: Pseudo-elements</div><div class="fla flcnw"><div class="fla flrnw"><div class="fln w-50 flc"><div class="fln"><div class="f3">HTML</div><pre class="bg-near-black pa4 lh-copy tl"><code class="language-html">&lt;div&gt;1&lt;/div&gt;
&lt;div id="foo"&gt;2&lt;/div&gt;</code></pre></div></div><div class="fln w-50 flc"><div class="fln"><div class="f3">CSS</div><pre class="bg-near-black pa4 lh-copy tl"><code class="language-scss">#foo:after {
  content: "♥"
}</code></pre></div></div></div><div class="fla flc"><div class="fln w-50 flrnw flspah"><div class="db ba w-25 h3 flc">1</div><div class="db ba w-25 h3 flc">2♥</div></div></div></div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Trick #3: Sibling selector</div><div class="fla flcnw"><div class="fla flrnw"><div class="fln w-50 flc"><div class="fln"><div class="f3">HTML</div><pre class="bg-near-black pa4 lh-copy tl"><code class="language-html">&lt;div class="foo"&gt;1&lt;/div&gt;
&lt;div class="bar"&gt;2&lt;/div&gt;
&lt;div class="baz"&gt;3&lt;/div&gt;
&lt;div class="foo"&gt;4&lt;/div&gt;</code></pre></div></div><div class="fln w-50 flc"><div class="fln"><div class="f3">CSS</div><pre class="bg-near-black pa4 lh-copy tl"><code class="language-scss">.bar ~ .foo {
  background: green;
}</code></pre></div></div></div><div class="fla flc"><div class="fln w-75 flrnw flspah"><div class="db ba w-20 h3 flc">1</div><div class="db ba w-20 h3 flc">2</div><div class="db ba w-20 h3 flc">3</div><div class="db ba w-20 h3 flc bg-green">4</div></div></div></div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">#1 + #2 + #3</div><div class="fla flcnw"><div class="fla flrnw"><div class="fln w-50 flc"><div class="fln"><div class="f3">HTML</div><pre class="bg-near-black pa4 lh-copy tl"><code class="language-html">&lt;input type="text" value="Tim" /&gt;
&lt;div id="result"&gt;&lt;/div&gt;</code></pre></div></div><div class="fln w-50 flc"><div class="fln"><div class="f3">CSS</div><pre class="bg-near-black pa4 lh-copy tl"><code class="language-scss">input[value="Tim"] ~ #result:after {
  content: "Tim Carry";
}</code></pre></div></div></div><div class="fla flc"><div class="fln w-50 flcnw"><div class="fln flrnw pa2 flspbh"><input class="fln pa2 br2" type="text" value=""><div class="db ba w3 h3"></div></div><div class="fln flrnw pa2 flspbh"><input class="fln pa2 br2" type="text" value="Tim"><div class="db ba pa3">Tim Carry</div></div></div></div></div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">(Almost) No JavaScript</div><div class="fla flcnw"><div class="fla flrnw"><div class="fln w-50 flc"><div class="fln"><pre class="bg-near-black ph4 pt4 lh-copy tl"><code class="language-html">&lt;input type="text" value="Josh"/&gt;
&lt;div id="result"&gt;&lt;/div&gt;</code></pre><pre class="bg-near-black pa4 lh-copy tl"><code class="language-scss">input[value="Tim"] ~ #result:after {
 content: "Tim Carry";
}</code></pre></div></div><div class="fln w-50 flc"><div class="fln flrnw pa2 flspbh"><input class="fln pa2 br2" type="text" value="Tim"><div class="db ba w3 h3 ml4"></div></div></div></div><div class="fla flc"><div class="fln flcnw"><pre class="bg-near-black pa4 lh-copy tl fragment"><code class="language-html">&lt;input type="text" onchange="this.setAttribute('value', this.value)" /&gt;</code></pre></div></div></div></div></section><section class="slide--vertical" data-transition="fade-in"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">More people</div><div class="fla flcnw"><div class="fla flrnw"><div class="fln w-60 flc"><div class="fln"><pre class="bg-near-black pa3 lh-copy tl"><code class="language-scss">input[value="Tim"] ~ #result:after {
 content: "Tim Carry";
}
input[value="Emily"] ~ #result:after {
 content: "Emily Hayman";
}
input[value="Kumiko"] ~ #result:after {
 content: "Kumiko Laroque";
}</code></pre></div></div><div class="fln w-40 flc"><div class="fln flcnw"><div class="fln flrnw pa2 flspbh"><input class="fln pa2 br2 w4" type="text" value="Tim"><div class="db ba ml2 pa3">Tim Carry</div></div><div class="fln flrnw pa2 flspbh"><input class="fln pa2 br2 w4" type="text" value="Emily"><div class="db ba ml2 pa3">Emily Hayman</div></div><div class="fln flrnw pa2 flspbh"><input class="fln pa2 br2 w4" type="text" value="Kumiko"><div class="db ba ml2 pa3">Kumiko Laroque</div></div></div></div></div></div></div></section><section class="slide--vertical" data-transition="fade-in"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Only full matches...</div><div class="fla flcnw"><div class="fla flrnw"><div class="fln w-60 flc"><div class="fln"><pre class="bg-near-black pa3 lh-copy tl"><code class="language-scss">input[value="Tim"] ~ #result:after {
 content: "Tim Carry";
}
input[value="Emily"] ~ #result:after {
 content: "Emily Hayman";
}
input[value="Kumiko"] ~ #result:after {
 content: "Kumiko Laroque";
}</code></pre></div></div><div class="fln w-40 flc"><div class="fln flcnw"><div class="fln flrnw pa2 flspbh"><input class="fln pa2 br2 w4" type="text" value="Ti"><div class="db ba ml2 h3 w3"></div></div><div class="fln flrnw pa2 flspbh"><input class="fln pa2 br2 w4" type="text" value="Emi"><div class="db ba ml2 h3 w3"></div></div><div class="fln flrnw pa2 flspbh"><input class="fln pa2 br2 w4" type="text" value="Kumi"><div class="db ba ml2 h3 w3"></div></div></div></div></div></div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Search Vs Indexing</div><div class="fla flcnw flc mb5"><div class="fla flc"><div class="f1 lh-title"><div class="blue b">Searching</div><div class="fragment i mt2"><div class="di">What will I find if I type </div><div class="di b">Tim</div><div class="di">?</div></div></div></div><div class="fla flc"><div class="f1 lh-title"><div class="green b">Indexing</div><div class="fragment i mt2"><div class="di">What do I need to type to find </div><div class="di b">Tim Carry</div><div class="di">?</div></div></div></div></div></div></section><section class="slide--vertical"><div class="flcnw pa3"><div class="fln f1 lh-title tl b">N-grams</div><div class="fla flrw flc f1 mt4"><div class="fln bg-deep-cove bittersweet pa3 ma4">T</div><div class="fln bg-deep-cove bittersweet pa3 ma4">Ti</div><div class="fln bg-deep-cove bittersweet pa3 ma4">Tim</div><div class="fln bg-deep-cove bittersweet pa3 ma4">Tim C</div><div class="fln bg-deep-cove bittersweet pa3 ma4">Tim Ca</div><div class="fln bg-deep-cove bittersweet pa3 ma4">Tim Car</div><div class="fln bg-deep-cove bittersweet pa3 ma4">Tim Carr</div><div class="fln bg-deep-cove bittersweet pa3 ma4">Tim Carry</div><div class="fln bg-deep-cove bittersweet pa3 ma4">C</div><div class="fln bg-deep-cove bittersweet pa3 ma4">Ca</div><div class="fln bg-deep-cove bittersweet pa3 ma4">Car</div><div class="fln bg-deep-cove bittersweet pa3 ma4">Carr</div><div class="fln bg-deep-cove bittersweet pa3 ma4">Carry</div></div></div></section><section class="slide--horizontal"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">N-grams</div><div class="fla flcnw"><div class="fla flrnw"><div class="fln w-50 flc"><div class="fln"><pre class="bg-near-black pa3 lh-copy tl"><code class="language-scss">input[value="T"] ~ #result:after,
input[value="Ti"] ~ #result:after,
input[value="Tim"] ~ #result:after {
 content: "Tim Carry";
}</code></pre></div></div><div class="fln w-50 flc"><div class="fln flcnw"><div class="fln flrnw pa2 flspbh"><input class="fln pa2 br2" type="text" value="T"><div class="db ba ml4 pa3">Tim Carry</div></div><div class="fln flrnw pa2 flspbh"><input class="fln pa2 br2" type="text" value="Ti"><div class="db ba ml4 pa3">Tim Carry</div></div><div class="fln flrnw pa2 flspbh"><input class="fln pa2 br2" type="text" value="Tim"><div class="db ba ml4 pa3">Tim Carry</div></div></div></div></div></div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Several results</div><div class="fla flcnw"><div class="fla flrnw"><div class="fln w-50 flc"><div class="fln"><pre class="bg-near-black pa4 lh-copy tl"><code class="language-html">&lt;input type="text" onchange="…"/&gt;
&lt;div id="results"&gt;
  &lt;div id="result_0"&gt;&lt;/div&gt;
  &lt;div id="result_1"&gt;&lt;/div&gt;
  &lt;div id="result_2"&gt;&lt;/div&gt;
&lt;/div&gt;</code></pre></div></div><div class="fln w-50 flc"><div class="fln"><pre class="bg-near-black pa4 lh-copy tl f5"><code class="language-scss">#result_0:after { content: "Julien Lemoine"; }
#result_1:after { content: "Josh Dzielak"; }
#result_2:after { content: "Jonas Badalic"; }

#results div { display: none; }

input[value=""] ~ #results div { display: block; }

input[value="Jo"] ~ #results #result_1:after,
input[value="Jo"] ~ #results #result_2:after {
  display: block;
}
[…]</code></pre></div></div></div><div class="fla flc"><div class="fln flcnw"><div class="fln flrnw pa2 flspbh"><input class="fln pa2 br2" type="text" value="Jo"><div class="db ba pa3 ml3 o-30">Julien Lemoine</div><div class="db ba pa3 ml3 bg-green">Josh Dzielak</div><div class="db ba pa3 ml3 bg-green">Jonas Badalic</div></div></div></div></div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Lots of rules...</div><div class="fla flcnw"><div class="fla flrnw"><div class="fln w-50 flc"><div class="fln"><pre class="bg-near-black pa3 lh-copy tl f5"><code class="language-scss">input[value="J"] ~ #results #result_1:after,
input[value="J"] ~ #results #result_2:after,
input[value="J"] ~ #results #result_3:after {
  display: block;
}
input[value="Jo"] ~ #results #result_1:after,
input[value="Jo"] ~ #results #result_2:after {
  display: block;
}
input[value="Jos"]  ~ #results #result_2:after,
input[value="Josh"] ~ #results #result_2:after {
  display: block;
}</code></pre></div></div><div class="fln w-50 flc"><div class="fln"><pre class="bg-near-black pa3 lh-copy tl f5"><code class="language-scss">input[value="Jon"]   ~ #results #result_2:after,
input[value="Jona"]  ~ #results #result_2:after,
input[value="Jonas"] ~ #results #result_2:after {
  display: block;
}
input[value="Ju"]     ~ #results #result_0:after,
input[value="Jul"]    ~ #results #result_0:after,
input[value="Juli"]   ~ #results #result_0:after,
input[value="Julie"]  ~ #results #result_0:after,
input[value="Julien"] ~ #results #result_0:after {
  display: block;
}</code></pre></div></div></div></div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Layout (in one div)</div><div class="fla flrnw flc"><div class="fln w-60"><div class="fake-browser shadow-3 center w-80"><img class="w-100" src="./img/layout.png"></div></div><div class="fln w-40"><img src="./img/dustin.gif"><pre class="bg-near-black pa2 lh-copy tl"><code class="language-html">  &lt;div id="result_42"&gt;&lt;/div&gt;</code></pre></div></div></div></section><section class="slide--vertical debug"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Layout (in one div)</div><div class="fla flrnw"><div class="fla flc"><div class="fln"><pre class="bg-near-black pa4 lh-copy tl f5"><code class="language-scss">#result_42 {</code><code class="language-scss">}</code></pre></div></div><div class="fln flc flcnw w-30"><div class="fln f0"><img src="./img/dustin.gif"></div><div class="fln"><pre class="bg-near-black pa2 lh-copy f4"><code class="language-html">  &lt;div id="result_42"&gt;&lt;/div&gt;</code></pre></div></div></div></div></section><!-- |amélioration de la mise en page--><!-- |nom, prénom, image et job title--><!-- |image vient de cloudinary pour avoir noir et blanc, rond et même format--><!-- |nom et job title sont dans le before avec un saut de ligne--><!-- |au hover, ajoute un fun fact--><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Random order</div><div class="fla flcnw flccv">random order
on est plus de 100, à chaque fois on voit les même dans le haut de page
pas représentatif de qui ont est, et de notre flat hierarchy
donc affichage random des résultats
cherché longtemps comment faire du random en CSS
peut utiliser order: en flexbox pour choisir l'ordre
un peu triché pour ça
peut le faire en SCSS? mais pas vraiment random (XKCD: random number generator)
CSS généré coté serveur random, qui attribut un order random à chacun
donc ordre différent à chaque load
webtask.io pour ça, super Gist + Heroku par Auth0</div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">searchable attributes</div><div class="fla flcnw flccv">plus de searchableAttributes
par défaut chercher seulement sur first name
ajouté last name, et job title
si j'affiche des infos, je dois permettre e rechercher dessus, sinon frustrant
chaque nouvel attribut je dois générer des n-grams pour ça
augmente la taille du fichier</div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Feintes</div><div class="fla flcnw flccv">quelques feintes
noms composés et lettres accentuées
besoin de trouver avec ou sans l'accent
besoin de trouver RCS sur Remy ou Christophe
générer des n-grams pour ça</div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Highlight</div><div class="fla flcnw flccv">highlight
peut trouver dans plein de choses
parfois dur de voir pourquoi une personne est affichée
besoin de highlight
montrer l'exemple de google
doit etre visible, mais pas trop
doit permettre de comprendre pourquoi un résultat est là, mais doit voir le
résultat en premier</div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Custom Font</div><div class="fla flcnw flccv">generated content, donc peut pas utiliser de css dessus
utilise donc une font custom, qui est le merge d'une font de base et d'une bold
mise dans le private-use area
example du code du before
ces characteres sont des versions bold</div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Order</div><div class="fla flcnw flccv">ordre d'affichage
maintenant on voit tout ce qui s'affiche
on comprends pourquoi tel résultat est là
mais on se demande pourquoi il est avant un autre
l'ordre est random parce que j'affiche tout en random
je doit classer par ordre de pertinence
first name > last name > job title
poids sur les attributs, d'abord ceux du first name, puis ceux du last name (ex:
Kim)</div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Custom ranking</div><div class="fla flcnw flccv">même nom
mais plusieurs personnes s'appellent Alex, ou Nicolas
Comment les ranger?
On utilise un custom ranking, des données métiers
Masquées à l'utilisateur, mais utilisée dans le ranking
peut etre un score de popularité si c'était des chanteurs
là, c'est juste la date d'arrivée. Les premiers employés sont avant les plus
récents</div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Tie-breaking</div><div class="fla flcnw flccv">Tie-Breaking
fonctionne selon un principe de buckets
"Ch"
d'abord les matches dans le first name, puis last name, puis job
dans chaque bucket, rangé par ordre d'arrivée
API prends en comte plus de uckets, ainsi que le nombre de typos</div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Typos</div><div class="fla flcnw flccv">typos
certaines personnes ont des noms compliqués
on va faire des fautes, on ne sait pas comment ça s'écrit
gros doigts sur mobile
important d'etre tolerent à la faute de frappe
shermesser? schermeser?
générer de nouveaux n-grams pour les fautes
techniquement une faute se calcule avec la distance de levenshtein
nombre d'ajout, suppression, permutations pour arriver au mot
peut se générer, mais ferait un fichier CSS bien trop gros
me suis limité à un seul type de faute
où on enlever une lettre
et bien sur celui que j'utilise dans la démo
garde le highlight</div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Synonyms</div><div class="fla flcnw flccv">synonyms
en vrai personne appelle Rémy-Christophe comme ça
on utilise RCS
on a l'habitude de se voir sur github, par login
donc ajout de synonymes
ajouter un nouveau n-gram à un résultat
mais pour pas perturber l'utilisateur, surligner celui-là</div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Facets</div><div class="fla flcnw flccv">facets
chaque eployé fait parti d'une team
12 divs vides avec ids uniques
contenu rempli avec CSS comme pour les résultats
affichés/masqués en fonction de la query tapée
nombre de résultats mis à jour aussi
choisir facet
radio hack
chaque facet est un label, lié à un bouton radio en haut de la page
quand clique sur label, selectionne radio
selon la facet selectionnée, permet de définir un état global à la page
avec checked + next element
dans ce cas, je masque tous les résultats qui ne sont PAS de la facet
selectionnée

changer de facet
parce que radio, peut cliquer sur n autre et seulement un est selectionné à la
fois, change l'affichage
parce que utilise des order flexbox, il y a des trous dans le display, mais
quand même dans le bon ordre
par contre, doit pouvoir unselect une facet et pas possible d'unselect un radio
pour ça, jtuilisé un 13e element
quand je clique sur un label, il se masque, et je mets ce label en plus à la
place (même nom, même count)
quand je clique dessus, c'est comme si je selectionnais un label nutile, donc
désélectionne tout
utiliser flexbox order pour le mettre où il faut</div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Conclusion</div><div class="fla flcnw flccv">conclusion
ne l'utilisez pas en production
taille du fichier CSS grossit trop, trop vite
peut pas gérer correctement toutes les typos
permet de comprendre comment le moteur marche
bien plus puissant par l'API
plein de edge case pas gérés par mon implementation
peut pas savoir que impossible tant que pas essayé</div></div></section><section class="slide--vertical"><div class="h-100 flcnw pa3"><div class="fln f1 lh-title tl b">Idea</div><div class="fla flcnw flccv">naissance de l'idée
octobre dernier
idée avec collègues
premier proto (retrouver les gifs?)
ajouter des features au fur et à mesure
améliorer l'algo pour générer moins de CSS
bug sur le nombre max de selecteurs</div></div></section><div class="aside--horizontal absolute right-0 bottom-0 left-0 z-5 flrnw"><a class="fln bg-deep-cove pv3 ph4" href="https://www.algolia.com/"><img class="w4" src="./ui/algolia-logo-dark-bg.svg"></a><div class="fla bg-gradient-primary bg-white--theme1 flcnw flccv tr pr4 f6 white bunting--theme1"><div class="fw4">How We Built A Search Engine In Pure CSS</div><div class="fw3">Tim Carry</div></div></div><div class="aside--vertical absolute top-0 bottom-0 left-0 z-5 flcnw"><a class="fln flccv bg-deep-cove pa3" href="https://www.algolia.com/"><img class="h2" src="./ui/algolia-logo-dark-bg.svg"></a><div class="fla bg-gradient-primary flcnw f6 white ph2 pv3"><div class="fw4 mta">How We Built A Search Engine In Pure CSS</div><div class="fw3">Tim Carry</div></div></div></div></div><script src="./js/vendors/head.js"></script><script src="./js/vendors/reveal.js"></script><script src="./js/vendors/lodash.js"></script><script src="./js/vendors/jquery.js"></script><script src="./vendor.js"></script><script src="./app.js"></script><script>require('javascripts/app').default.init()</script></body></html>